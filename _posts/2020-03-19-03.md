---
layout: post
title: 난독화 기술 개발 1 - 난독화 적용 아이디어와 궁금했던 점
date: 2020-03-19
Author: yarncha
categories:
tags: [난독화]
comments: true
---

저번 주까지는 MiniC에 난독화할 수 있는 코드를 메소드 형식으로 작성하여 적용하도록 했는데, 이번 주에는 Obfuscator라는 클래스로 따로 빼서 작성하였다. 이후의 코드는 이 클래스에 작성한 뒤, prettyprinter의 각 부분에 적용하는 방식으로 작성할 것 같다. 이렇게 코드의 수정과 적용이 편리하도록 했는데, 다음 시간에는 이것을 더 발전시켜서 prettyprinter이전에(또는 prettyprinter를 시작하자 마자) 난독화를 실행해 난독화 한 후 이 코드를 prettyprint하도록 하고 싶다. 더 나아가서는 if문을 인식하면 바로 모든 if문에 대해서 어떠한 난독화를 적용한다던가, parameter를 인식해서 그것을 이용해 여러가지 난독화를 진행한다던가 하는 부분도 해 보고 싶은데 이 부분은 지금처럼 exit을 이용하기만 해도 될 것 같긴 하다.

![graph](<\images\03_01.png>)

<!-- 또한 이번 주에는 제시된 방법이 아닌 나만의 방법을 생각해 보았다. 다음은 시도해 본 몇 가지 난독화 방법이다.

### 1. 경우의 수를 많게 하는 방법

첫 주차 DSE를 다루면서 생각해본 부분이다. (참고 : https://yarncha.github.io/01/) DSE는 다양한 테스트 케이스를 생성하는 방법이므로, 이 테스트 케이스의 개수를 늘리는 접근 방법을 제안한 바 있다.

### 2. 일반적인 난독화 코드의 변환

지난 시간에 했던 부분에서 해당 부분이 뻔한 부분이라, 난독화 해제 도구에서 인식하고 삭제할 가능성이 있다는 피드백을 받았다. 이 부분을 어떻게 고칠 지 생각해보았다.

### 3. -->

+
이번 주에 새로운 난독화 방법을 생각해 보려고 여러 가지를 찾아 보다 궁금한 점이 생겼다. <>에 글을 쓰면서도 생각했던 점인데, 해당 글에 들었던 예시와 같이 for문을 반복하여 테스트 케이스를 많이 생성할 경우에는 난독화 하기도 어렵겠지만 코드를 이용할 때에도 실행 시간도 늘어나고 코드의 효율이 좋지 않을 것 같았다. 결국 이렇게 되면 난독화 하려다가 코드까지 망친다는 느낌이 들어 이 부분에 대하여 여쭈어 보었는데, 관리자 권한에 접근하는 부분이라던가 중요한 키를 가지고 있는 부분과 같이 주로 보안이 중요한 부분에 대하여 **일부를 난독화하는 방법**을 사용하는 것 같다.

!!!!!TOBECONTINUED
